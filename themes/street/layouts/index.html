{{ define "main" }}
  <section class="focus__container">
      <div class="focus__area"></div>

      <svg width="434" height="85vh" viewBox="0 0 434 703" class="svg-path" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1 569.5V703L434 702V0.5H1V569" class="path" stroke="transparent"/>
        <rect class="empty" x="2" y="2" width="151" height="151" class="empty" fill="#F5F3F1"/>
      </svg>

      <svg width="434" height="85vh" viewBox="0 0 434 703" class="svg-path" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M434 568.5V0.5H1V703L434 702V569.5" class="path2" stroke="transparent"/>
        <rect x="2" y="2" width="151" height="151" class="empty2" fill="#F5F3F1"/>
      </svg>
  </section>

  <div class="loader">
    <h2 class="intro">Loading</h2>
  </div>
  <div class="div site-content">
    <section class="home site-content__section active">
      <div class="home__content-container">
        <div class="home__titles">
          <h1 class="special-title">Gobelin's <br>Student</h1>
          <h1></h1>
          <p class="special-subtitle">Creative Developer</p>
        </div>
        <div class="home__content">
          <div class="job-details">
            <span>Available for an <br> <strong>Intership</strong></span>
          </div>

          <div class="logo"><img src="/media/logos/miia_logo.svg" alt=""></div>

          <div class="name">
            <span class="firstname">Neh√©mia</span>
            <span class="lastname">Telusma</span>
          </div>
        </div>
      </div>
      <div class="home__side">
        <div class="top">
          <div class="cv">
            <p>Recently graduated with a Bachelor's Degree in MMI</p>
          </div>
        </div>
        <img src="/media/icons/X.svg" class="middle" alt="">
        <div class="bottom">
          <div class="cv">
            <p>Former Intern as a Front End Developer at Acrib</p>
          </div>
        </div>
      </div>
    </section>
    <section class="portfolio site-content__section active" id="portfolio">
      <div class="outer">
        <div class="slider">
          {{ range where .Site.RegularPages "Section" "projects" }}
          <section>
            <div class="inner">
              <div class="content project">
                <div class="canvas-container" data-image="{{ .Params.image }}">
                  <a href="{{ .Params.link }}" target="_blank" class="project__btn">
                    <img src="/media/icons/arrow-up-right.svg" alt="arrow up right - link to website">
                  </a>
                </div>
                <div class="text-content">
                  <h2 class="project__title">{{ .Title }}</h2>
                  <p class="project__description">{{ .Params.description }}</p>
                </div>
              </div>
            </div>
          </section>
          {{ end }}
        </div>
      </div>
    </section>
  </div>

  <script>
      const path = document.querySelector('.path');
      const empty = document.querySelector('.empty');

      const path2 = document.querySelector('.path2');
      const empty2 = document.querySelector('.empty2');

      const val = { distance: 0 };
      const val2 = { distance: 0 };

      gsap.to(val, {
        distance: path.getTotalLength(),
        repeat: -1,
        duration: 15,
        ease: "expo.out",

        onUpdate: () => {
          const point = path.getPointAtLength(val.distance);
          empty.setAttribute('x', point.x - 75.5);
          empty.setAttribute('y', point.y - 75.5);
        }
      });

      gsap.to(val2, {
        distance: path2.getTotalLength(),
        repeat: -1,
        duration: 15,
        ease: "expo.out",

        onUpdate: () => {
          const point2 = path2.getPointAtLength(val2.distance);
          empty2.setAttribute('x', point2.x - 75.5);
          empty2.setAttribute('y', point2.y - 75.5);
        }
      });
  </script>
{{ end }}
